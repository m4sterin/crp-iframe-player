# Crunchyroll iFrame Player [![Built with love](https://img.shields.io/badge/made%20with-javascript-yellow?style=for-the-badge)](https://github.com/mateus7g/crp-iframe-player/releases/latest) [![Downloads](https://img.shields.io/github/downloads/mateus7g/crp-iframe-player/total.svg?style=for-the-badge)](https://github.com/mateus7g/crp-iframe-player/releases/latest)

Essa √© uma extens√£o da comunidade que permite assistir todo conte√∫do da Crunchyroll.  
Originalmente criada por [itallolegal](https://github.com/itallolegal) (desativado) e [Hyper-Tx](https://github.com/Hyper-Tx), atualmente mantida por [Mateus7G](https://github.com/Mateus7G).  
Um agradecimento especial a todos os colaboradores.

Obrigado por utilizar. :)

## Download 
Voc√™ pode encontrar as √∫ltimas vers√µes dispon√≠veis abaixo:  


<a href="https://github.com/mateus7g/crp-iframe-player/releases/latest" target="_blank"><img align="right" alt="Desktop" src="https://img.shields.io/badge/desktop-v1.3.0-violet?style=for-the-badge&logo=windows"></a>

#### Desktop (PC)

Atualmente a vers√£o para Desktop est√° dispon√≠vel [aqui](https://github.com/Mateus7G/crp-iframe-player/releases/latest).  
Para instalar veja o passo a passo [para pc](#%EF%B8%8F-como-instalar-desktop).

<a href="https://github.com/Mateus7G/crp-iframe-player/releases/latest" target="_blank"><img align="right" alt="Android" src="https://img.shields.io/badge/android-v1.3.0-violet?style=for-the-badge&logo=android"></a>

#### Android (Kiwi)

Vers√£o mais recente para o Kiwi Browser est√° dispon√≠vel [aqui](https://github.com/Mateus7G/crp-iframe-player/releases/latest).  
Para instalar veja o passo a passo [para android](#-como-instalar-android).     


## üñ•Ô∏è Como instalar? (desktop)
A extens√£o para Desktop funciona apenas em navegadores **baseados em Chromium**, como: Google Chrome, Opera, etc.  
Verifique se o seu browser est√° atualizado e prossiga:


<img align="right" width="350" height="124" alt="Extraindo arquivo baixado" src="https://raw.githubusercontent.com/mateus7g/crp-iframe-player/master/Screenshots/instalacao-3.png?raw=true">

**1** ‚ûú Fa√ßa o [download](#download) do arquivo `Crunchyroll_Premium.zip`, e extraia-o:

**2** ‚ûú Entre na aba de [extens√µes](https://raw.githubusercontent.com/mateus7g/crp-iframe-player/master/Screenshots/instalacao-1.png?raw=true) do seu navegador (ou acesse diretamente [`chrome://extensions`](chrome://extensions))
 
**3** ‚ûú Habilite o **Modo programador**, e ent√£o clique no bot√£o **Carregar expandida**:

 ![Habilitando modo programador, e carregando extens√£o](https://raw.githubusercontent.com/mateus7g/crp-iframe-player/master/Screenshots/instalacao-2.png?raw=true)
 
**4** ‚ûú Selecione a pasta [que foi extra√≠da](https://raw.githubusercontent.com/mateus7g/crp-iframe-player/master/Screenshots/instalacao-4.png?raw=true) no come√ßo do tutorial

<img align="right" width="350" height="190" alt="Detalhes da extens√£o instalada" src="https://raw.githubusercontent.com/mateus7g/crp-iframe-player/master/Screenshots/instalacao-5.png?raw=true">

**5** ‚ûú Se voc√™ fez tudo certo, voc√™ dever√° ver um card como este no seu navegador.
 
**6** ‚ûú Agora √© s√≥ assistir üòâ

<br /><br /><br />

## üì± Como instalar? (android)
A extens√£o para Android funciona apenas no Kiwi Browser.  
Verifique se o seu navegador est√° atualizado e prossiga:

<img align="right" width="350" height="233" alt="Kiwi Browser na Play Store" src="https://raw.githubusercontent.com/mateus7g/crp-iframe-player/master/Screenshots/instalacao-kiwi-1.png?raw=true&v=2">

**1** ‚ûú Fa√ßa o [download](#download) do arquivo `Crunchyroll_Premium_Kiwi-Browser.zip`, n√£o precisa extrair.

**2** ‚ûú Baixe e abra o navegador Kiwi Browser, dispon√≠vel na [Google Play Store](https://play.app.goo.gl/?link=https://play.google.com/store/apps/details?id=com.kiwibrowser.browser&ddl=1&pcampaignid=web_ddl_1):  

**3** ‚ûú Entre na aba de [extens√µes](https://raw.githubusercontent.com/mateus7g/crp-iframe-player/master/Screenshots/instalacao-kiwi-2.png?raw=true) do seu navegador (ou acesse diretamente [`chrome://extensions`](chrome://extensions))

**4** ‚ûú Habilite o **Modo do desenvolvedor**, e ent√£o clique em **Load**  

![Habilitando modo programador e carregando a extens√£o](https://raw.githubusercontent.com/mateus7g/crp-iframe-player/master/Screenshots/instalacao-kiwi-3.png?raw=true)

**5** ‚ûú Escolha o arquivo `.zip` baixado no come√ßo do tutorial

<img align="right" width="350" height="190" alt="Detalhes da extens√£o instalada" src="https://raw.githubusercontent.com/mateus7g/crp-iframe-player/master/Screenshots/instalacao-kiwi-4.png?raw=true">

**6** ‚ûú Se voc√™ fez tudo certo, voc√™ dever√° ver um card como este na sua tela.  

**7** ‚ûú Agora √© s√≥ assistir üòâ

<br /><br /><br />

## ü¶ä Firefox
Caso utilize um navegador baseado no Mozilla Firefox voc√™ tamb√©m pode testar a vers√£o adaptada pelo Rgern100 ([#38](https://github.com/Mateus7G/crp-iframe-player/issues/38#issuecomment-1193372108)) aqui:  
https://github.com/Rgern100/crp-iframe-player-Firefox

## üôâ Tampermonkey
Caso esteja utilizando a vers√£o do player deste reposit√≥rio (mateus7g.github.io), utilizar o player pelo Tampermonkey (e n√£o pela extens√£o) pode causar problemas com o CORS (e receber um [C√≥digo 232011](https://greasyfork.org/pt-BR/scripts/411391-crunchyroll-iframe-player/discussions/142287), veja [#50](https://github.com/Mateus7G/crp-iframe-player/issues/50)).  
Para resolver isso basta passar na fun√ß√£o `ifrm.contentWindow.postMessage({ ... })` a chave `'tampermonkey'` com o valor `true`.  

UserScript 1 (pelo luiz-lp): https://github.com/luiz-lp/crpiframeplayer  
UserScript 2 (pelo JarEdMaster): https://greasyfork.org/pt-BR/scripts/411391-crunchyroll-iframe-player  
**Nota:** N√£o sou respons√°vel por manter esses scripts  

**Mensagens que podem atualmente ser mandadas para o player via script:**

```yml
tampermonkey: usa um proxy para fazer as requests
lang: c√≥digo do locale/idioma padr√£o
playback: sem uso atualmente
beta: caso esteja usando o crunchyroll na vers√£o beta (requer passar old_url)
old_url: url do video na vers√£o antiga do site
up_next_enable: pular epis√≥dios automaticamente (quando up_next for informado)
up_next_cooldown: segundos para acabar e mostrar o popup do pr√≥ximo epis√≥dio (0 para desativar popup)
up_next: url do pr√≥ximo v√≠deo a ser tocado/redirecionado (requer up_next_enable)
force_mp4: for√ßa os v√≠deos a tocar em mp4 e n√£o m3u8 (ativar essa op√ß√£o deixar√° o loading mais lento, recomendado apenas para chromecasting)
webvideocaster: troca o bot√£o de download por casting do WebVideoCaster
```

## üìù Aviso Crunchyroll Beta
O novo site do Crunchyroll **quebra completamente** a extens√£o: [26#issuecomment-1006569041](https://github.com/Mateus7G/crp-iframe-player/issues/26#issuecomment-1006569041)  

As novas vers√µes (v1.1.0+) **ainda** s√£o compat√≠veis pois ao acessar o novo site, seu navegador puxa os dados do v√≠deo do site antigo.  
Isso quer dizer que, se a vers√£o antiga do Crunchyroll for **completamente substitu√≠da** a extens√£o ir√° parar de funcionar permanentemente.
